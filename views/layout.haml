!!! Strict
%html{:lang => "en", "xmlns:fb"=>"http://ogp.me/ns/fb#"}
  %head
    %meta{:charset => "utf-8"}
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
    %meta{:content => @app['name'], :property => "og:title"}/
    %meta{:content => "website", :property => "og:type"}/
    %meta{:content => url, :property => "og:url"}/
    %meta{:content => url('/logo.png'), :property => "og:image"}/
    %meta{:content => @app['name'], :property => "og:site_name"}/
    %meta{:content => "My First App", :property => "og:description"}/
    %meta{:content => @app['name'], :property => "fb:app_id"}/
    %script{:src => "/jquery-1.7.1.min.js", :type => "text/javascript"}
    :javascript
       window.fbAsyncInit = function() {
         FB.init({
           appId      : "#{@app['id']}",                     // App ID
           channelUrl : "#{url_no_scheme('/channel.html')}", // Channel File
           status     : true,                                    // check login status
           cookie     : true,                                    // enable cookiqes to allow the server to access the session
           xfbml      : true                                     // parse XFBML
         });

         // Listen to the auth.login which will be called when the user logs in
         // using the Login button
         FB.Event.subscribe('auth.login', function(response) {
           // We want to reload the page now so Ruby can read the cookie that the
           // Javascript SDK sat. But we don't want to use
           // window.location.reload() because if this is in a canvas there was a
           // post made to this page and a reload will trigger a message to the
           // user asking if they want to send data again.
           window.location = window.location;
         });

         FB.Canvas.setAutoGrow();
       };

       // Load the SDK Asynchronously
       (function(d, s, id) {
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) return;
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/all.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    
    %title
      Pythia
    %script{:src => "/jquery-1.10.0.min.js", :type => "text/javascript"}
    %script{:src => "/jquery-ui-1.10.3.custom.js", :type => "text/javascript"}
    / %script{:src => "//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js", :type => "text/javascript"}
    %script{:src => "/js/bootstrap.min.js", :type => "text/javascript"}
    %script{:src => "/underscore.js", :type => "text/javascript"}
    %link{:href => "/bootstrap.min.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    %link{:href => "/main.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    %link{:href => "/custom-styles.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}

    %link{:href => "/font-awesome.min.css", :media => "screen", :rel => "stylesheet", :type => "text/css"}
    / %link{:href => "/main.css", rel: "stylesheet", type: "text/css"}
    :css 

      .build_profile .field {
        color: #666;
      }
  
      .build_profile_right .field {
        color: #666;
      }
    
      .build_profile .label {
        color: white;
    
      }
  
      .build_profile {
        width: 300px;      
      }
  
      .build_profile_right {
        margin-top: 10px;
      }
    
      .left-half, .right-half {
        display: inline-block;
        position: relative;
        width: 50%;
      }

      .left-half {
        text-align: left;
      }

      .right-half {
        text-align: right;
      }
    :javascript
      $(function() {
        function buildProfile() {
          window.location = "/test";
        }
  
        $(".build_profile").click(function() {
          buildProfile();
        });

        $(".build_profile_right").click(function() {
          buildProfile();
        });
      });
    
  
  %body
    .navbar.navbar-inverse.navbar-fixed-top
      .navbar-inner
        .container
          %button.btn.btn-navbar{"data-target" => ".nav-collapse", "data-toggle" => "collapse", :type => "button"}
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.brand{:href => "/"}
            %img{:src => "/img/pythia.png", :style => "width: 225px; height: 61px;" }

          .nav-collapse.collapse
            %ul.nav
              %li.active
                %a{:href => "/"} Home
              %li
                %a{:href => "#about"} Answers (12)
              %li.build_profile
                .progress-bar
                  .progress
                    %span.field
                      Complete your profile
                    %span.field-value.fade-in 15%
                    .bar{style: "width: 15%;"}
                    
          .build_profile_right.pull-right
            .progress-bar{style: "width: 300px;"}
              .progress
                %span.field
                  Complete your profile
                %span.field-value.fade-in 15%
                .bar{style: "width: 15%;"}
                    
    .container.main
      = yield


%script{type: "text/html", id: "posted-question-template"}
  %li.well.posted-question 
    .left-half>
      .text <%= question %>
    .right-half
      .choices
        <% _.each(answers, function(answer) { %>
        .btn.btn-small.m-btn <%= answer %>
        <% }); %>
  
